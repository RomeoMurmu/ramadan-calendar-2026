<!DOCTYPE html>
<html lang="bn" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- =============== PRIMARY SEO =============== -->
    <title>রমজান ক্যালেন্ডার ২০২৬ | ইসলামিক ফাউন্ডেশন সেহরি ও ইফতারের সময়সূচি বাংলাদেশ</title>
    <meta name="description" content="রমজান ২০২৬ — ইসলামিক ফাউন্ডেশন বাংলাদেশ অনুযায়ী সেহরি ও ইফতারের সম্পূর্ণ সময়সূচি। romjan mas 2026 date, Ramadan calendar 2026 Bangladesh, সকল ৬৪ জেলার সময়, কাউন্টডাউন, তসবিহ ও দোয়া। Ramadan Prayer Times Dhaka Bangladesh 2026.">
    <meta name="keywords" content="রমজান ক্যালেন্ডার ২০২৬, রমজানের সময় সূচি, রমজানের সময় সূচি 2026 ইসলামিক ফাউন্ডেশন, ইসলামিক ফাউন্ডেশন সেহরি ও ইফতারের সময়সূচি ২০২৬, ইসলামিক ফাউন্ডেশন রোজার সময়সূচি ২০২৬, সেহরি ও ইফতারের সময়সূচি ক্যালেন্ডার ২০২৬, আজকের নামাজ সেহরি ও ইফতারের সময়সূচি ২০২৬, ইসলামিক ফাউন্ডেশন সেহরি ও ইফতারের সময়সূচি ২০২৬ pdf, রমজান মাসের ক্যালেন্ডার 2026, ২০২৬ সালের রমজান ক্যালেন্ডার বাংলাদেশ, ইফতারের সময় ২০২৬, সেহরির সময় ২০২৬, রমজান ২০২৬ বাংলাদেশ, রোজার সময়সূচি ২০২৬, ইফতার সময় ঢাকা, রমজান টাইমটেবিল, রোজা ২০২৬, romjan mas 2026, romjan mas 2026 date, romjan mas 2026 date bangla, romjan mas 2026 bangladesh calendar, Ramadan 2026 Bangladesh, Ramadan calendar 2026, Ramadan calendar 2026 Bangladesh, Ramadan calendar 2026 Bangladesh Islamic Foundation, Ramadan Prayer Times 2026 Dhaka Bangladesh, Ramadan countdown 2026, Ramadan countdown 2026 Bangladesh, Iftar time 2026, Sehri time 2026, Ramadan mubarak 2026, ramadan 2026 date bangladesh, sehri iftar time 2026 dhaka, islamic foundation bangladesh ramadan 2026, রমজান ২০২৬ সময়সূচী, আজকের ইফতারের সময়, আজকের সেহরির সময়, রমজান শুরু ২০২৬, রোজার নিয়ত, ইফতারের দোয়া">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="author" content="রমজান ক্যালেন্ডার ২০২৬">
    <meta name="language" content="Bengali">
    <meta name="revisit-after" content="3 days">
    <meta name="rating" content="general">
    <meta name="category" content="Religion, Islam, Ramadan">
    <link rel="canonical" href="https://romeomurmu.github.io/ramadan-calendar-2026/">

    <!-- =============== OPEN GRAPH (Facebook, WhatsApp, LinkedIn) =============== -->
    <meta property="og:type" content="website">
    <meta property="og:locale" content="bn_BD">
    <meta property="og:site_name" content="রমজান ক্যালেন্ডার ২০২৬">
    <meta property="og:title" content="রমজান ক্যালেন্ডার ২০২৬ | ইসলামিক ফাউন্ডেশন সেহরি ও ইফতারের সময়সূচি | Ramadan Calendar 2026 Bangladesh">
    <meta property="og:description" content="বাংলাদেশের সকল জেলার সঠিক ইফতার ও সেহরির সময়সূচি, লাইভ কাউন্টডাউন, ডিজিটাল তসবিহ এবং রমজানের দোয়া।">
    <meta property="og:url" content="https://romeomurmu.github.io/ramadan-calendar-2026/">
    <meta property="og:image" content="https://romeomurmu.github.io/ramadan-calendar-2026/icons/icon-512x512.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:alt" content="রমজান ক্যালেন্ডার ২০২৬ লোগো">

    <!-- =============== TWITTER CARD =============== -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="রমজান ক্যালেন্ডার ২০২৬ | ইফতার ও সেহরির সময়সূচি">
    <meta name="twitter:description" content="বাংলাদেশের সকল জেলার সঠিক ইফতার ও সেহরির সময়সূচি, লাইভ কাউন্টডাউন ও ডিজিটাল তসবিহ।">
    <meta name="twitter:image" content="https://romeomurmu.github.io/ramadan-calendar-2026/icons/icon-512x512.png">

    <!-- =============== PWA & ICONS =============== -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="রমজান ২০২৬">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/icon-144x144.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-72x72.png">
    <link rel="shortcut icon" href="icons/icon-96x96.png">
    <meta name="msapplication-TileImage" content="icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#1a1a2e">

    <!-- =============== STRUCTURED DATA: WebApp =============== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "রমজান ক্যালেন্ডার ২০২৬",
      "alternateName": "Ramadan Calendar 2026 Bangladesh",
      "url": "https://romeomurmu.github.io/ramadan-calendar-2026/",
      "description": "বাংলাদেশের সকল জেলার সঠিক ইফতার ও সেহরির সময়সূচি, লাইভ কাউন্টডাউন, ডিজিটাল তসবিহ এবং রমজানের দোয়া।",
      "applicationCategory": "LifestyleApplication",
      "operatingSystem": "Any",
      "inLanguage": "bn",
      "image": "https://romeomurmu.github.io/ramadan-calendar-2026/icons/icon-512x512.png",
      "offers": { "@type": "Offer", "price": "0", "priceCurrency": "BDT" },
      "author": { "@type": "Organization", "name": "রমজান ক্যালেন্ডার", "url": "https://romeomurmu.github.io/ramadan-calendar-2026/" },
      "datePublished": "2026-01-01",
      "keywords": "রমজান, ইফতার, সেহরি, Ramadan 2026, Bangladesh"
    }
    </script>

    <!-- =============== STRUCTURED DATA: Event =============== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Event",
      "name": "রমজান ২০২৬",
      "alternateName": "Ramadan 2026",
      "startDate": "2026-02-18",
      "endDate": "2026-03-19",
      "description": "পবিত্র রমজান মাস ২০২৬ — বাংলাদেশের সকল জেলার ইফতার ও সেহরির সঠিক সময়সূচি",
      "eventStatus": "https://schema.org/EventScheduled",
      "location": { "@type": "Country", "name": "Bangladesh" },
      "organizer": { "@type": "Organization", "name": "রমজান ক্যালেন্ডার ২০২৬" }
    }
    </script>

    <!-- =============== STRUCTURED DATA: FAQ =============== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "রমজান ২০২৬ কবে শুরু? (romjan mas 2026 date)",
          "acceptedAnswer": { "@type": "Answer", "text": "রমজান ২০২৬ (romjan mas 2026) শুরু হয়েছে ১৯ ফেব্রুয়ারি ২০২৬ (বৃহস্পতিবার) এবং শেষ হবে ২০ মার্চ ২০২৬। ইসলামিক ফাউন্ডেশন বাংলাদেশ কর্তৃক নিশ্চিত।" }
        },
        {
          "@type": "Question",
          "name": "ইসলামিক ফাউন্ডেশন সেহরি ও ইফতারের সময়সূচি ২০২৬ কোথায় পাবো?",
          "acceptedAnswer": { "@type": "Answer", "text": "ইসলামিক ফাউন্ডেশন বাংলাদেশের রমজান ২০২৬ সময়সূচি এই সাইটে পাওয়া যাচ্ছে। ঢাকায় প্রথম রোজার সেহরি ০৫:১২ এবং ইফতার ০৫:৫৮।" }
        },
        {
          "@type": "Question",
          "name": "আজকের সেহরি ও ইফতারের সময় কখন? (Ramadan countdown 2026)",
          "acceptedAnswer": { "@type": "Answer", "text": "এই অ্যাপে লাইভ কাউন্টডাউন দিয়ে আজকের সেহরি ও ইফতারের সঠিক সময় দেখতে পাবেন। আপনার জেলা সিলেক্ট করলে স্বয়ংক্রিয়ভাবে সময় সমন্বয় হবে।" }
        },
        {
          "@type": "Question",
          "name": "Ramadan calendar 2026 Bangladesh — সকল জেলার সময়সূচি কীভাবে দেখবো?",
          "acceptedAnswer": { "@type": "Answer", "text": "Ramadan calendar 2026 Bangladesh-এ সকল ৬৪ জেলার সময়সূচি দেখতে district dropdown থেকে আপনার জেলা সিলেক্ট করুন। GPS দিয়ে অটো ডিটেক্টও করতে পারবেন।" }
        },
        {
          "@type": "Question",
          "name": "রমজান ২০২৬ সময়সূচি PDF ডাউনলোড করবো কীভাবে?",
          "acceptedAnswer": { "@type": "Answer", "text": "পিডিএফ ডাউনলোড বাটনে ক্লিক করলে প্রিন্ট উইন্ডো খুলবে। সেখান থেকে PDF হিসেবে সেভ করুন। ইসলামিক ফাউন্ডেশন ২০২৬ অনুযায়ী সম্পূর্ণ ৩০ দিনের সময়সূচি পাবেন।" }
        },
        {
          "@type": "Question",
          "name": "চট্টগ্রামে ইফতারের সময় কখন ২০২৬?",
          "acceptedAnswer": { "@type": "Answer", "text": "চট্টগ্রামে ইফতারের সময় ঢাকার তুলনায় ৫ মিনিট আগে হয়। Ramadan 2026 Prayer Times Chittagong — dropdown থেকে চট্টগ্রাম সিলেক্ট করুন।" }
        },
        {
          "@type": "Question",
          "name": "সিলেটে সেহরি ও ইফতারের সময় কখন ২০২৬?",
          "acceptedAnswer": { "@type": "Answer", "text": "সিলেটে সেহরি ও ইফতারের সময় ঢাকার তুলনায় ৬ মিনিট আগে হয়। Ramadan 2026 Sylhet timetable-এর জন্য dropdown থেকে সিলেট সিলেক্ট করুন।" }
        }
      ]
    }
    </script>

    <!-- =============== GOOGLE ANALYTICS 4 =============== -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TVNKQSRDN1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-TVNKQSRDN1');
    </script>

    <!-- =============== PERFORMANCE (SEO Boost) =============== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* সরাসরি CSS এখানে এম্বেড করছি */
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&family=Amiri:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Hind Siliguri', sans-serif;
        }
        
        :root {
            --bg-color: #1a1a2e;
            --text-color: white;
            --card-bg: rgba(255, 255, 255, 0.1);
            --gold: #ffd700;
            --teal: #00ffcc;
            --red: #ff4d4d;
        }
        
        body.light-mode {
            --bg-color: #f0f0f0;
            --text-color: #333;
            --card-bg: rgba(0, 0, 0, 0.05);
            --gold: #b8860b;
            --teal: #008080;
            --red: #dc143c;
        }
        
        .main-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            z-index: -1;
            transition: all 0.3s ease;
        }
        
        body.light-mode .main-bg {
            background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 50%, #d0d0d0 100%);
        }
        
        body {
            color: var(--text-color);
            display: flex;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            background-color: var(--bg-color);
            transition: all 0.3s ease;
        }
        
        html, body {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        html::-webkit-scrollbar, body::-webkit-scrollbar {
            display: none;
        }
        
        .container {
            width: 100%;
            max-width: 700px;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        h1 {
            font-size: 1.8rem;
            color: var(--gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        .theme-toggle {
            background: var(--card-bg);
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            backdrop-filter: blur(5px);
        }
        
        /* Countdown Box */
        #countdown-box {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            padding: 20px;
            border-radius: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        #event-name {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--gold);
        }
        
        #timer {
            font-size: 3.5rem;
            font-weight: bold;
            color: var(--gold);
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
            font-family: monospace;
        }
        
        #timer span {
            display: inline-block;
            min-width: 70px;
        }
        
        /* Controls Section */
        .controls {
            margin-bottom: 25px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        #district-select {
            appearance: none;
            width: 100%;
            max-width: 380px;
            padding: 12px 20px;
            background: var(--card-bg);
            color: var(--gold);
            border: 2px solid var(--gold);
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            outline: none;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        #district-select option {
            background: #1a1a2e;
            color: white;
            font-size: 0.95rem;
            padding: 5px;
        }
        
        body.light-mode #district-select option {
            background: #f0f0f0;
            color: #333;
        }
        
        #district-select optgroup {
            background: #0f3460;
            color: var(--gold);
            font-weight: bold;
            font-size: 0.85rem;
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .action-btn {
            background: var(--card-bg);
            border: 1px solid var(--gold);
            color: var(--text-color);
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: var(--gold);
            color: #000;
        }
        
        .action-btn.active-view {
            background: var(--gold);
            color: #000;
            font-weight: bold;
        }
        
        .action-btn i {
            margin-right: 5px;
        }
        
        /* Dua Cards */
        .dua-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .dua-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--gold);
            text-align: left;
        }
        
        .dua-card h3 {
            color: var(--gold);
            margin-bottom: 10px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .arabic {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-family: 'Amiri', serif;
            color: var(--teal);
            text-align: right;
        }
        
        .pronunciation {
            font-style: italic;
            font-size: 0.95rem;
            color: #ddd;
            margin-bottom: 5px;
        }
        
        body.light-mode .pronunciation {
            color: #666;
        }
        
        .meaning {
            font-size: 1rem;
            color: var(--text-color);
        }
        
        /* Tasbih Card */
        .tasbih-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .tasbih-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .tasbih-header h3 {
            color: var(--gold);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .target-selector {
            display: flex;
            gap: 5px;
        }
        
        .target-btn {
            background: var(--card-bg);
            border: 1px solid var(--gold);
            color: var(--text-color);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .target-btn.active {
            background: var(--gold);
            color: #000;
        }
        
        #counter {
            font-size: 4rem;
            color: var(--teal);
            margin: 20px 0;
            font-weight: bold;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--teal);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .phase-indicator {
            flex: 1;
            text-align: center;
            padding: 8px 5px;
            border-radius: 10px;
            background: var(--card-bg);
            border: 2px solid transparent;
            font-size: 0.8rem;
            color: var(--text-color);
            transition: all 0.3s ease;
            line-height: 1.4;
        }
        
        .phase-indicator.active-phase {
            border-color: var(--gold);
            background: rgba(255, 215, 0, 0.15);
            color: var(--gold);
            font-weight: bold;
        }
        
        .phase-indicator.done-phase {
            border-color: var(--teal);
            background: rgba(0, 255, 204, 0.1);
            color: var(--teal);
        }

        .phase-indicator {
            flex: 1;
            text-align: center;
            padding: 8px 5px;
            border-radius: 10px;
            background: var(--card-bg);
            border: 2px solid transparent;
            font-size: 0.8rem;
            color: var(--text-color);
            transition: all 0.3s ease;
            line-height: 1.5;
        }
        .phase-indicator.active-phase {
            border-color: var(--gold);
            background: rgba(255,215,0,0.15);
            color: var(--gold);
            font-weight: bold;
        }
        .phase-indicator.done-phase {
            border-color: var(--teal);
            background: rgba(0,255,204,0.1);
            color: var(--teal);
        }
        .tasbih-btns {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-count {
            background: var(--gold);
            color: #000;
            flex: 2;
            padding: 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .btn-reset {
            background: var(--red);
            color: #fff;
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-save {
            background: var(--teal);
            color: #000;
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Table Styles */
        .table-wrapper {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            max-height: 450px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: rgba(255, 215, 0, 0.2);
            padding: 15px;
            color: var(--gold);
            position: sticky;
            top: 0;
            z-index: 10;
            backdrop-filter: blur(10px);
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .active-row {
            background: rgba(255, 215, 0, 0.25) !important;
            font-weight: bold;
            border-left: 6px solid var(--gold);
        }
        
        /* Footer */
        footer {
            margin-top: 30px;
            padding: 20px;
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .footer-links {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: var(--gold);
            text-decoration: none;
            cursor: pointer;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--bg-color);
            padding: 30px;
            border-radius: 20px;
            max-width: 400px;
            width: 90%;
            border: 1px solid var(--gold);
        }
        
        .modal-content h3 {
            color: var(--gold);
            margin-bottom: 20px;
        }
        
        .modal-content input,
        .modal-content select,
        .modal-content textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            background: #16213e;
            border: 1px solid var(--gold);
            color: #ffffff;
            border-radius: 10px;
            font-family: 'Hind Siliguri', sans-serif;
            font-size: 1rem;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        
        body.light-mode .modal-content input,
        body.light-mode .modal-content select,
        body.light-mode .modal-content textarea {
            background: #e8e8e8;
            color: #333333;
        }
        
        /* dropdown option dark fix */
        .modal-content select option {
            background: #16213e;
            color: #ffffff;
        }
        
        body.light-mode .modal-content select option {
            background: #e8e8e8;
            color: #333;
        }
        
        .modal-btns {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gold);
            color: #000;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 2000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            #timer { font-size: 2.5rem; }
            #timer span { min-width: 50px; }
            .arabic { font-size: 1.4rem; }
            h1 { font-size: 1.4rem; }
        }
        
        .table-wrapper::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <div class="main-bg"></div>
    
    <div class="container" role="main" aria-label="রমজান ক্যালেন্ডার ২০২৬">
        <header>
            <h1 itemprop="headline"><i class="fas fa-moon"></i> মাহে রমজান ২০২৬</h1>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i> ডার্ক/লাইট
            </button>
        </header>
        
        <div id="countdown-box" aria-live="polite" aria-label="কাউন্টডাউন টাইমার">
            <p id="event-name">পরবর্তী ইফতার</p>
            <div id="timer">০০:০০:০০</div>
        </div>
        
        <div class="controls">
            <select id="district-select">
                <optgroup label="── ঢাকা বিভাগ ──">
                    <option value="ঢাকা|0">ঢাকা (বেস টাইম)</option>
                    <option value="গাজীপুর|0">গাজীপুর (০ মি.)</option>
                    <option value="নারায়ণগঞ্জ|-1">নারায়ণগঞ্জ (-১ মি.)</option>
                    <option value="মানিকগঞ্জ|1">মানিকগঞ্জ (+১ মি.)</option>
                    <option value="মুন্সীগঞ্জ|0">মুন্সীগঞ্জ (০ মি.)</option>
                    <option value="নরসিংদী|-1">নরসিংদী (-১ মি.)</option>
                    <option value="টাঙ্গাইল|2">টাঙ্গাইল (+২ মি.)</option>
                    <option value="কিশোরগঞ্জ|-2">কিশোরগঞ্জ (-২ মি.)</option>
                    <option value="ফরিদপুর|3">ফরিদপুর (+৩ মি.)</option>
                    <option value="মাদারীপুর|2">মাদারীপুর (+২ মি.)</option>
                    <option value="রাজবাড়ী|4">রাজবাড়ী (+৪ মি.)</option>
                    <option value="গোপালগঞ্জ|2">গোপালগঞ্জ (+২ মি.)</option>
                    <option value="শরীয়তপুর|1">শরীয়তপুর (+১ মি.)</option>
                </optgroup>
                <optgroup label="── চট্টগ্রাম বিভাগ ──">
                    <option value="চট্টগ্রাম|-5">চট্টগ্রাম (-৫ মি.)</option>
                    <option value="কুমিল্লা|-3">কুমিল্লা (-৩ মি.)</option>
                    <option value="ফেনী|-4">ফেনী (-৪ মি.)</option>
                    <option value="ব্রাহ্মণবাড়িয়া|-2">ব্রাহ্মণবাড়িয়া (-২ মি.)</option>
                    <option value="রাঙামাটি|-6">রাঙামাটি (-৬ মি.)</option>
                    <option value="নোয়াখালী|-4">নোয়াখালী (-৪ মি.)</option>
                    <option value="চাঁদপুর|-3">চাঁদপুর (-৩ মি.)</option>
                    <option value="কক্সবাজার|-7">কক্সবাজার (-৭ মি.)</option>
                    <option value="বান্দরবান|-8">বান্দরবান (-৮ মি.)</option>
                    <option value="খাগড়াছড়ি|-6">খাগড়াছড়ি (-৬ মি.)</option>
                    <option value="লক্ষ্মীপুর|-3">লক্ষ্মীপুর (-৩ মি.)</option>
                </optgroup>
                <optgroup label="── সিলেট বিভাগ ──">
                    <option value="সিলেট|-6">সিলেট (-৬ মি.)</option>
                    <option value="হবিগঞ্জ|-4">হবিগঞ্জ (-৪ মি.)</option>
                    <option value="সুনামগঞ্জ|-5">সুনামগঞ্জ (-৫ মি.)</option>
                    <option value="মৌলভীবাজার|-5">মৌলভীবাজার (-৫ মি.)</option>
                </optgroup>
                <optgroup label="── রাজশাহী বিভাগ ──">
                    <option value="রাজশাহী|7">রাজশাহী (+৭ মি.)</option>
                    <option value="চাঁপাইনবাবগঞ্জ|9">চাঁপাইনবাবগঞ্জ (+৯ মি.)</option>
                    <option value="নাটোর|7">নাটোর (+৭ মি.)</option>
                    <option value="নওগাঁ|8">নওগাঁ (+৮ মি.)</option>
                    <option value="বগুড়া|6">বগুড়া (+৬ মি.)</option>
                    <option value="জয়পুরহাট|7">জয়পুরহাট (+৭ মি.)</option>
                    <option value="পাবনা|4">পাবনা (+৪ মি.)</option>
                    <option value="সিরাজগঞ্জ|1">সিরাজগঞ্জ (+১ মি.)</option>
                </optgroup>
                <optgroup label="── খুলনা বিভাগ ──">
                    <option value="খুলনা|3">খুলনা (+৩ মি.)</option>
                    <option value="বাগেরহাট|4">বাগেরহাট (+৪ মি.)</option>
                    <option value="সাতক্ষীরা|5">সাতক্ষীরা (+৫ মি.)</option>
                    <option value="যশোর|2">যশোর (+২ মি.)</option>
                    <option value="নড়াইল|3">নড়াইল (+৩ মি.)</option>
                    <option value="মাগুরা|2">মাগুরা (+২ মি.)</option>
                    <option value="মেহেরপুর|5">মেহেরপুর (+৫ মি.)</option>
                    <option value="চুয়াডাঙ্গা|4">চুয়াডাঙ্গা (+৪ মি.)</option>
                    <option value="ঝিনাইদহ|2">ঝিনাইদহ (+২ মি.)</option>
                    <option value="কুষ্টিয়া|3">কুষ্টিয়া (+৩ মি.)</option>
                </optgroup>
                <optgroup label="── রংপুর বিভাগ ──">
                    <option value="রংপুর|4">রংপুর (+৪ মি.)</option>
                    <option value="দিনাজপুর|5">দিনাজপুর (+৫ মি.)</option>
                    <option value="ঠাকুরগাঁও|6">ঠাকুরগাঁও (+৬ মি.)</option>
                    <option value="পঞ্চগড়|7">পঞ্চগড় (+৭ মি.)</option>
                    <option value="গাইবান্ধা|3">গাইবান্ধা (+৩ মি.)</option>
                    <option value="কুড়িগ্রাম|3">কুড়িগ্রাম (+৩ মি.)</option>
                    <option value="নীলফামারী|5">নীলফামারী (+৫ মি.)</option>
                    <option value="লালমনিরহাট|3">লালমনিরহাট (+৩ মি.)</option>
                </optgroup>
                <optgroup label="── বরিশাল বিভাগ ──">
                    <option value="বরিশাল|1">বরিশাল (+১ মি.)</option>
                    <option value="পটুয়াখালী|0">পটুয়াখালী (০ মি.)</option>
                    <option value="ভোলা|2">ভোলা (+২ মি.)</option>
                    <option value="পিরোজপুর|2">পিরোজপুর (+২ মি.)</option>
                    <option value="ঝালকাঠি|1">ঝালকাঠি (+১ মি.)</option>
                    <option value="বরগুনা|-1">বরগুনা (-১ মি.)</option>
                </optgroup>
                <optgroup label="── ময়মনসিংহ বিভাগ ──">
                    <option value="ময়মনসিংহ|-1">ময়মনসিংহ (-১ মি.)</option>
                    <option value="নেত্রকোণা|-2">নেত্রকোণা (-২ মি.)</option>
                    <option value="জামালপুর|0">জামালপুর (০ মি.)</option>
                    <option value="শেরপুর|-1">শেরপুর (-১ মি.)</option>
                </optgroup>
            </select>
        </div>
        
        <div class="quick-actions">
            <button class="action-btn" id="notifyBtn"><i class="fas fa-bell"></i> নোটিফিকেশন সেট</button>
            <button class="action-btn" id="calendarViewBtn"><i class="fas fa-calendar-alt"></i> ক্যালেন্ডার ভিউ</button>
            <button class="action-btn" id="downloadPdfBtn"><i class="fas fa-download"></i> পিডিএফ ডাউনলোড</button>
            <button class="action-btn" id="shareBtn"><i class="fas fa-share"></i> শেয়ার</button>
        </div>
        
        <div class="dua-container">
            <!-- রোজার নিয়ত -->
            <div class="dua-card">
                <h3><i class="fas fa-hands-praying"></i> রোজার নিয়ত (সেহরি)</h3>
                <p class="arabic">نَوَيْتُ أَنْ أَصُوْمَ غَدًا مِّنْ شَهْرِ رَمَضَانَ الْمُبَارَكِ فَرْضًا لَّكَ يَا اللهُ فَتَقَبَّلْ مِنِّىْ إِنَّكَ أَنْتَ السَّمِيْعُ الْعَلِيْمُ</p>
                <p class="pronunciation">নাওয়াইতু আন আসূমা গাদান মিন শাহরি রামাদ্বানাল মুবারাকি ফারদ্বাল্লাকা ইয়া আল্লাহু ফাতাক্বাব্বাল মিন্নী ইন্নাকা আন্তাস সামীউল আলীম।</p>
                <p class="meaning">অর্থ: হে আল্লাহ! আমি আগামীকাল তোমার সন্তুষ্টির জন্য পবিত্র রমজান মাসের ফরজ রোজা রাখার নিয়ত করছি। তুমি আমার পক্ষ থেকে তা কবুল করো। নিশ্চয়ই তুমি সর্বশ্রোতা ও সর্বজ্ঞ।</p>
            </div>

            <!-- ইফতারের দোয়া -->
            <div class="dua-card">
                <h3><i class="fas fa-hands-praying"></i> ইফতারের দোয়া</h3>
                <p class="arabic">اَللّٰهُمَّ لَكَ صُمْتُ وَعَلٰى رِزْقِكَ أَفْطَرْتُ وَعَلَيْكَ تَوَكَّلْتُ وَبِكَ آمَنْتُ ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللهُ</p>
                <p class="pronunciation">আল্লাহুম্মা লাকা সুমতু ওয়া আলা রিযক্বিকা আফত্বারতু ওয়া আলাইকা তাওয়াক্কালতু ওয়া বিকা আমানতু। যাহাবায যামাউ ওয়াবতাল্লাতিল উরূকু ওয়া সাবাতাল আজরু ইনশাআল্লাহ।</p>
                <p class="meaning">অর্থ: হে আল্লাহ! আমি তোমারই জন্য রোজা রেখেছি এবং তোমারই দেওয়া রিযিক দিয়ে ইফতার করলাম। তোমার উপরই ভরসা করলাম এবং তোমার উপরই ইমান আনলাম। তৃষ্ণা দূর হয়েছে, শিরাগুলো সিক্ত হয়েছে এবং আল্লাহর ইচ্ছায় পুরস্কার নিশ্চিত হয়েছে।</p>
            </div>

            <!-- তারাবির দোয়া -->
            <div class="dua-card">
                <h3><i class="fas fa-star"></i> তারাবির দোয়া</h3>
                <p class="arabic">سُبْحَانَ ذِي الْمُلْكِ وَالْمَلَكُوْتِ سُبْحَانَ ذِي الْعِزَّةِ وَالْعَظَمَةِ وَالْهَيْبَةِ وَالْقُدْرَةِ وَالْكِبْرِيَاءِ وَالْجَبَرُوْتِ سُبْحَانَ الْمَلِكِ الْحَيِّ الَّذِيْ لَا يَنَامُ وَلَا يَمُوْتُ أَبَدًا أَبَدَ سُبُّوْحٌ قُدُّوْسٌ رَبُّنَا وَرَبُّ الْمَلَائِكَةِ وَالرُّوْحِ</p>
                <p class="pronunciation">সুবহানা যিল মুলকি ওয়াল মালাকূতি সুবহানা যিল ইযযাতি ওয়াল আযামাতি ওয়াল হাইবাতি ওয়াল কুদরাতি ওয়াল কিবরিয়াই ওয়াল জাবারূতি। সুবহানাল মালিকিল হাইয়িল্লাযী লা ইয়ানামু ওয়ালা ইয়ামূতু আবাদান আবাদ। সুববূহুন কুদ্দূসুন রাব্বুনা ওয়া রাব্বুল মালাইকাতি ওয়ার রূহ।</p>
                <p class="meaning">অর্থ: পবিত্র সেই সত্তা যিনি রাজত্ব ও সার্বভৌমত্বের অধিকারী। পবিত্র সেই সত্তা যিনি সম্মান, মহত্ব, প্রতাপ, ক্ষমতা, শ্রেষ্ঠত্ব ও পরাক্রমের অধিকারী। পবিত্র সেই চিরজীবন্ত বাদশাহ যিনি কখনো ঘুমান না এবং কখনো মরবেন না। তিনি অতি পবিত্র, অতি মহিমান্বিত — তিনি আমাদের প্রভু এবং ফেরেশতাদের ও রূহের প্রভু।</p>
            </div>

            <!-- লাইলাতুল কদরের দোয়া -->
            <div class="dua-card">
                <h3><i class="fas fa-moon"></i> লাইলাতুল কদরের দোয়া</h3>
                <p class="arabic">اَللّٰهُمَّ إِنَّكَ عَفُوٌّ كَرِيْمٌ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّيْ</p>
                <p class="pronunciation">আল্লাহুম্মা ইন্নাকা আফুউউন কারীমুন তুহিব্বুল আফওয়া ফা'ফু আন্নী।</p>
                <p class="meaning">অর্থ: হে আল্লাহ! নিশ্চয়ই তুমি মহাক্ষমাশীল, অতি দয়ালু। তুমি ক্ষমা করতে ভালোবাসো, সুতরাং আমাকে ক্ষমা করো। (তিরমিযী)</p>
            </div>
        </div>
        
        <div class="tasbih-card">
            <div class="tasbih-header">
                <h3><i class="fas fa-praying-hands"></i> ডিজিটাল তসবিহ</h3>
                <span id="tasbih-phase-label" style="color:var(--teal); font-size:0.9rem; font-weight:bold;"></span>
            </div>

            <!-- তসবিহর নাম দেখানো -->
            <div id="tasbih-name" style="font-size:1.4rem; color:var(--gold); margin: 8px 0 2px; font-weight:bold;"></div>
            <div id="tasbih-arabic" style="font-family:'Amiri',serif; font-size:2rem; color:var(--teal); margin-bottom:5px; direction:rtl;"></div>

            <!-- কাউন্টার -->
            <div id="counter">০</div>
            <div style="font-size:0.9rem; color:#aaa; margin-top:-10px; margin-bottom:8px;">
                <span id="tasbih-current-count">০</span> / <span id="tasbih-target-label">৩৩</span>
            </div>

            <!-- প্রগ্রেস বার -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- তিন পর্যায় দেখানো -->
            <div style="display:flex; justify-content:space-between; margin: 10px 0; gap:8px;">
                <div id="phase-0" class="phase-indicator active-phase">সুবহানাল্লাহ<br><small>০/৩৩</small></div>
                <div id="phase-1" class="phase-indicator">আলহামদুলিল্লাহ<br><small>০/৩৩</small></div>
                <div id="phase-2" class="phase-indicator">আল্লাহু আকবার<br><small>০/৩৪</small></div>
            </div>

            <!-- বাটন -->
            <div class="tasbih-btns">
                <button onclick="countTasbih()" class="btn-count" id="tasbih-main-btn">
                    <i class="fas fa-plus-circle"></i> <span id="tasbih-btn-label">সুবহানাল্লাহ</span>
                </button>
                <button onclick="resetTasbih()" class="btn-reset">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
        </div>
        
        <div class="view-controls" style="margin-bottom: 15px;">
            <button class="action-btn active-view" data-view="table" onclick="switchView('table', this)">
                <i class="fas fa-table"></i> টেবিল ভিউ
            </button>
            <button class="action-btn" data-view="calendar" onclick="switchView('calendar', this)">
                <i class="fas fa-calendar"></i> ক্যালেন্ডার ভিউ
            </button>
        </div>
        
        <div id="tableView">
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>রমজান</th>
                            <th>তারিখ</th>
                            <th>সেহরি</th>
                            <th>ইফতার</th>
                        </tr>
                    </thead>
                    <tbody id="ramadan-table"></tbody>
                </table>
            </div>
        </div>
        
        <div id="calendarView" style="display: none;">
            <div class="table-wrapper" style="padding: 20px;">
                <div id="calendar-grid" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px;"></div>
            </div>
        </div>
        
        <footer itemscope itemtype="https://schema.org/WPFooter">
            <div class="footer-links">
                <a onclick="openFeedbackModal()"><i class="fas fa-comment"></i> মতামত</a>
                <a onclick="shareApp()"><i class="fas fa-share-alt"></i> শেয়ার</a>
                <a onclick="openAboutModal()"><i class="fas fa-info-circle"></i> সম্পর্কে</a>
            </div>
            <p style="font-size:0.8rem; opacity:0.6; margin-top:10px;">
                রমজান ২০২৬ বাংলাদেশ &bull; ইফতারের সময় ২০২৬ &bull; সেহরির সময় ২০২৬ &bull;
                Ramadan 2026 Bangladesh &bull; Iftar Sehri Timetable &bull; রোজার সময়সূচি
            </p>
            <p>© ২০২৬ - রমজান ক্যালেন্ডার | v3.0 | সূত্র: ইসলামিক ফাউন্ডেশন বাংলাদেশ</p>
        </footer>
    </div>
    
    <!-- Audio for notifications -->
    <audio id="alarm-sound" preload="auto">
        <source src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Feedback Modal -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <h3>মতামত দিন</h3>
            <input type="text" id="feedbackName" placeholder="আপনার নাম (ঐচ্ছিক)">
            <textarea id="feedbackText" placeholder="আপনার মতামত লিখুন..." rows="4" style="width: 100%; padding: 12px; margin-bottom: 15px; background: var(--card-bg); border: 1px solid var(--gold); color: var(--text-color); border-radius: 10px;"></textarea>
            <div class="modal-btns">
                <button class="action-btn" onclick="submitFeedback()">পাঠান</button>
                <button class="action-btn" onclick="closeModal('feedbackModal')">বাতিল</button>
            </div>
        </div>
    </div>
    
    <!-- About Modal -->
    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <h3>রমজান ক্যালেন্ডার ২০২৬</h3>
            <p style="margin-bottom: 15px;">এটি একটি সম্পূর্ণ ফ্রি এবং ওপেন সোর্স রমজান ক্যালেন্ডার অ্যাপ।</p>
            <p style="margin-bottom: 10px;"><strong>ফিচারসমূহ:</strong></p>
            <ul style="text-align: left; margin-bottom: 20px;">
                <li>📅 সঠিক ইফতার ও সেহরির সময়</li>
                <li>🔔 নোটিফিকেশন অ্যালার্ম</li>
                <li>📿 ডিজিটাল তসবিহ</li>
                <li>🌙 ৮টি জেলার সময় সমন্বয়</li>
                <li>📊 প্রোগ্রেস ট্র্যাকার</li>
            </ul>
            <div class="modal-btns">
                <button class="action-btn" onclick="closeModal('aboutModal')">বন্ধ করুন</button>
            </div>
        </div>
    </div>
    
    <!-- Notification Reminder Modal -->
    <div class="modal" id="reminderModal">
        <div class="modal-content">
            <h3>নোটিফিকেশন সেট করুন</h3>
            <select id="reminderType">
                <option value="iftar">ইফতার</option>
                <option value="sehri">সেহরি</option>
                <option value="both">উভয়</option>
            </select>
            <select id="reminderTime">
                <option value="5">৫ মিনিট আগে</option>
                <option value="10">১০ মিনিট আগে</option>
                <option value="15">১৫ মিনিট আগে</option>
                <option value="30">৩০ মিনিট আগে</option>
            </select>
            <div class="modal-btns">
                <button class="action-btn" onclick="setReminder()">সেট করুন</button>
                <button class="action-btn" onclick="closeModal('reminderModal')">বাতিল</button>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // ==================== ডেটা সেকশন ====================
        // ডেটা সূত্র: ইসলামিক ফাউন্ডেশন বাংলাদেশ ২০২৬ (১৪৪৭ হিজরি)
        const ramadanData = [
            { no: 1,  date: "2026-02-19", sehri: "05:12", iftar: "17:58" },
            { no: 2,  date: "2026-02-20", sehri: "05:11", iftar: "17:58" },
            { no: 3,  date: "2026-02-21", sehri: "05:11", iftar: "17:59" },
            { no: 4,  date: "2026-02-22", sehri: "05:10", iftar: "17:59" },
            { no: 5,  date: "2026-02-23", sehri: "05:09", iftar: "18:00" },
            { no: 6,  date: "2026-02-24", sehri: "05:08", iftar: "18:00" },
            { no: 7,  date: "2026-02-25", sehri: "05:08", iftar: "18:01" },
            { no: 8,  date: "2026-02-26", sehri: "05:07", iftar: "18:01" },
            { no: 9,  date: "2026-02-27", sehri: "05:06", iftar: "18:02" },
            { no: 10, date: "2026-02-28", sehri: "05:05", iftar: "18:02" },
            { no: 11, date: "2026-03-01", sehri: "05:05", iftar: "18:03" },
            { no: 12, date: "2026-03-02", sehri: "05:04", iftar: "18:03" },
            { no: 13, date: "2026-03-03", sehri: "05:03", iftar: "18:04" },
            { no: 14, date: "2026-03-04", sehri: "05:02", iftar: "18:04" },
            { no: 15, date: "2026-03-05", sehri: "05:01", iftar: "18:05" },
            { no: 16, date: "2026-03-06", sehri: "05:00", iftar: "18:05" },
            { no: 17, date: "2026-03-07", sehri: "04:59", iftar: "18:06" },
            { no: 18, date: "2026-03-08", sehri: "04:58", iftar: "18:06" },
            { no: 19, date: "2026-03-09", sehri: "04:57", iftar: "18:07" },
            { no: 20, date: "2026-03-10", sehri: "04:57", iftar: "18:07" },
            { no: 21, date: "2026-03-11", sehri: "04:56", iftar: "18:07" },
            { no: 22, date: "2026-03-12", sehri: "04:55", iftar: "18:08" },
            { no: 23, date: "2026-03-13", sehri: "04:54", iftar: "18:08" },
            { no: 24, date: "2026-03-14", sehri: "04:53", iftar: "18:09" },
            { no: 25, date: "2026-03-15", sehri: "04:52", iftar: "18:09" },
            { no: 26, date: "2026-03-16", sehri: "04:51", iftar: "18:10" },
            { no: 27, date: "2026-03-17", sehri: "04:50", iftar: "18:10" },
            { no: 28, date: "2026-03-18", sehri: "04:49", iftar: "18:10" },
            { no: 29, date: "2026-03-19", sehri: "04:48", iftar: "18:11" },
            { no: 30, date: "2026-03-20", sehri: "04:47", iftar: "18:11" }
        ];
        
        // ==================== ভেরিয়েবল ====================
        // Load saved district
        const savedDistrict = localStorage.getItem('selectedDistrict');
        let offset = 0;
        if (savedDistrict) {
            const parts = savedDistrict.split('|');
            offset = parseInt(parts[parts.length - 1]);
        }
        let currentEvent = null;
        let alertPlayed = false;
        let reminderTime = 5;
        let reminderType = 'both';
        let notificationPermission = false;
        
        // ==================== ইউটিলিটি ফাংশন ====================
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification show ${type}`;
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        function formatBanglaNumber(num) {
            return num.toLocaleString('bn-BD');
        }
        
        function adjustTime(time, mins) {
            let [h, m] = time.split(':').map(Number);
            let totalMinutes = h * 60 + m + mins;
            totalMinutes = ((totalMinutes % 1440) + 1440) % 1440;
            h = Math.floor(totalMinutes / 60);
            m = totalMinutes % 60;
            return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}`;
        }
        
        // ==================== থিম টগল ====================
        document.getElementById('themeToggle').addEventListener('click', () => {
            document.body.classList.toggle('light-mode');
            const icon = document.querySelector('#themeToggle i');
            if (document.body.classList.contains('light-mode')) {
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'light');
            } else {
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'dark');
            }
        });

        // Restore saved theme
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-mode');
            document.querySelector('#themeToggle i').className = 'fas fa-sun';
        }
        
        // ==================== নোটিফিকেশন পারমিশন ====================
        async function requestNotificationPermission() {
            if ('Notification' in window) {
                const permission = await Notification.requestPermission();
                notificationPermission = permission === 'granted';
                if (notificationPermission) {
                    showNotification('নোটিফিকেশন সক্রিয় করা হয়েছে');
                }
            }
        }
        
        // ==================== তসবিহ সিস্টেম (৩৩+৩৩+৩৪) ====================
        const tasbihPhases = [
            { name: 'সুবহানাল্লাহ',   arabic: 'سُبْحَانَ اللهِ',    target: 33 },
            { name: 'আলহামদুলিল্লাহ', arabic: 'اَلْحَمْدُ لِلّٰهِ', target: 33 },
            { name: 'আল্লাহু আকবার',  arabic: 'اَللهُ أَكْبَرُ',    target: 34 },
        ];
        let currentPhase = 0;
        let phaseCount   = 0;
        let phaseDone    = [0, 0, 0];

        function updateTasbihUI() {
            const isAllDone = currentPhase >= tasbihPhases.length;
            const phase = isAllDone ? tasbihPhases[2] : tasbihPhases[currentPhase];
            const displayCount = isAllDone ? phase.target : phaseCount;

            document.getElementById('tasbih-name').innerText     = isAllDone ? '✅ সম্পন্ন' : phase.name;
            document.getElementById('tasbih-arabic').innerText   = phase.arabic;
            document.getElementById('tasbih-btn-label').innerText = isAllDone ? 'সম্পন্ন হয়েছে' : phase.name;
            document.getElementById('tasbih-target-label').innerText = formatBanglaNumber(phase.target);
            document.getElementById('tasbih-current-count').innerText = formatBanglaNumber(displayCount);
            document.getElementById('counter').innerText = formatBanglaNumber(displayCount);

            // বাটন disable করো যদি সব শেষ
            const btn = document.getElementById('tasbih-main-btn');
            if (isAllDone) {
                btn.disabled = true;
                btn.style.opacity = '0.5';
                btn.style.cursor = 'not-allowed';
            } else {
                btn.disabled = false;
                btn.style.opacity = '1';
                btn.style.cursor = 'pointer';
            }

            // Progress bar
            const pct = (displayCount / phase.target) * 100;
            document.getElementById('progressFill').style.width = Math.min(pct, 100) + '%';

            // Phase indicators
            tasbihPhases.forEach((p, i) => {
                const el = document.getElementById('phase-' + i);
                if (!el) return;
                el.className = 'phase-indicator';
                const doneCount = phaseDone[i] || 0;
                if (!isAllDone && i === currentPhase) {
                    el.classList.add('active-phase');
                } else if (doneCount >= p.target) {
                    el.classList.add('done-phase');
                }
                el.innerHTML = p.name + '<br><small>' + formatBanglaNumber(doneCount) + '/' + formatBanglaNumber(p.target) + '</small>';
            });

            document.getElementById('tasbih-phase-label').innerText = isAllDone ? '✅ সম্পন্ন' : (currentPhase + 1) + '/৩ পর্যায়';
        }

        function countTasbih() {
            // সব তসবিহ শেষ হলে আর কাউন্ট হবে না
            if (currentPhase >= tasbihPhases.length) return;
            
            const phase = tasbihPhases[currentPhase];
            
            // এই phase এর target ইতিমধ্যে পূর্ণ হলে কাউন্ট বন্ধ
            if (phaseCount >= phase.target) return;

            phaseCount++;
            phaseDone[currentPhase] = phaseCount;
            if (window.navigator.vibrate) window.navigator.vibrate(40);

            if (phaseCount >= phase.target) {
                phaseDone[currentPhase] = phase.target;
                if (window.navigator.vibrate) window.navigator.vibrate([100,50,100]);
                if (currentPhase < tasbihPhases.length - 1) {
                    // পরবর্তী phase এ যাও
                    showNotification('মাশাআল্লাহ! ' + phase.name + ' ✓  পরবর্তী: ' + tasbihPhases[currentPhase+1].name, 'success');
                    currentPhase++;
                    phaseCount = 0;
                } else {
                    // সব শেষ — currentPhase কে length এ সেট করো যাতে বাটন বন্ধ হয়
                    currentPhase = tasbihPhases.length;
                    showNotification('আলহামদুলিল্লাহ! ৩টি তসবিহ সম্পন্ন! ✨', 'success');
                    if (window.navigator.vibrate) window.navigator.vibrate([200,100,200,100,200]);
                }
            }
            updateTasbihUI();
            saveTasbihState();
        }

        function resetTasbih() {
            currentPhase = 0; phaseCount = 0; phaseDone = [0,0,0];
            updateTasbihUI();
            saveTasbihState();
            showNotification('তসবিহ রিসেট হয়েছে');
        }

        function saveTasbih() { saveTasbihState(); }

        function saveTasbihState() {
            localStorage.setItem('tasbihState', JSON.stringify({currentPhase, phaseCount, phaseDone}));
        }

        // Load saved tasbih state
        const savedTasbihState = localStorage.getItem('tasbihState');
        if (savedTasbihState) {
            try {
                const s = JSON.parse(savedTasbihState);
                currentPhase = s.currentPhase || 0;
                phaseCount   = s.phaseCount   || 0;
                phaseDone    = s.phaseDone     || [0,0,0];
            } catch(e) {}
        }
        updateTasbihUI();

        // ==================== টেবিল রেন্ডার ====================
        function renderTable() {
            const tableBody = document.getElementById('ramadan-table');
            tableBody.innerHTML = '';
            const now = new Date();
            const todayStr = now.toISOString().split('T')[0];
            
            ramadanData.forEach(day => {
                const isToday = day.date === todayStr;
                const row = `<tr class="${isToday ? 'active-row' : ''}">
                    <td>${day.no.toLocaleString('bn-BD')}</td>
                    <td>${new Date(day.date + 'T00:00:00').toLocaleDateString('bn-BD', { day: 'numeric', month: 'numeric' })}</td>
                    <td>${adjustTime(day.sehri, offset)}</td>
                    <td>${adjustTime(day.iftar, offset)}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });
            
            // Scroll to today
            setTimeout(() => {
                const activeRow = document.querySelector('.active-row');
                if (activeRow) {
                    activeRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }, 500);
        }
        
        // ==================== ক্যালেন্ডার ভিউ ====================
        function renderCalendar() {
            const calendar = document.getElementById('calendar-grid');
            calendar.innerHTML = '';
            
            const days = ['রবি', 'সোম', 'মঙ্গল', 'বুধ', 'বৃহ', 'শুক্র', 'শনি'];
            days.forEach(day => {
                const dayEl = document.createElement('div');
                dayEl.textContent = day;
                dayEl.style.fontWeight = 'bold';
                dayEl.style.color = 'var(--gold)';
                dayEl.style.padding = '10px';
                calendar.appendChild(dayEl);
            });
            
            // রমজানের প্রথম দিন থেকে শুরু (T00:00:00 দিয়ে local time parse)
            const startDate = new Date(ramadanData[0].date + 'T00:00:00');
            const startDay = startDate.getDay(); // 0=রবি, 1=সোম...
            
            // Empty cells before start
            for (let i = 0; i < startDay; i++) {
                const empty = document.createElement('div');
                empty.style.padding = '10px';
                calendar.appendChild(empty);
            }
            
            ramadanData.forEach(day => {
                const date = new Date(day.date + 'T00:00:00');
                const dayEl = document.createElement('div');
                dayEl.style.padding = '10px';
                dayEl.style.background = 'var(--card-bg)';
                dayEl.style.borderRadius = '10px';
                dayEl.style.cursor = 'pointer';
                
                const today = new Date().toISOString().split('T')[0];
                if (day.date === today) {
                    dayEl.style.background = 'rgba(255, 215, 0, 0.3)';
                    dayEl.style.border = '2px solid var(--gold)';
                }
                
                dayEl.innerHTML = `
                    <strong>${day.no}</strong><br>
                    <small>${new Date(day.date + 'T00:00:00').getDate()}</small><br>
                    <small style="color: var(--gold);">${adjustTime(day.sehri, offset)}</small><br>
                    <small style="color: var(--teal);">${adjustTime(day.iftar, offset)}</small>
                `;
                
                dayEl.onclick = () => {
                    showNotification(`রমজান ${day.no}: সেহরি ${adjustTime(day.sehri, offset)}, ইফতার ${adjustTime(day.iftar, offset)}`);
                };
                
                calendar.appendChild(dayEl);
            });
        }
        
        function switchView(view, clickedBtn) {
            document.querySelectorAll('.view-controls .action-btn').forEach(btn => {
                btn.classList.remove('active-view');
            });
            if (clickedBtn) clickedBtn.classList.add('active-view');
            
            if (view === 'table') {
                document.getElementById('tableView').style.display = 'block';
                document.getElementById('calendarView').style.display = 'none';
            } else {
                document.getElementById('tableView').style.display = 'none';
                document.getElementById('calendarView').style.display = 'block';
                renderCalendar();
            }
        }
        
        // ==================== জেলা সিলেক্ট ====================
        document.getElementById('district-select').addEventListener('change', (e) => {
            // value format: "জেলানাম|offset" e.g. "ঢাকা|0" or "চট্টগ্রাম|-5"
            const parts = e.target.value.split('|');
            offset = parseInt(parts[parts.length - 1]);
            // Restore saved district in dropdown
        if (savedDistrict) {
            const sel = document.getElementById('district-select');
            for (let i = 0; i < sel.options.length; i++) {
                if (sel.options[i].value === savedDistrict) {
                    sel.selectedIndex = i;
                    break;
                }
            }
        }
        renderTable();
            if (document.getElementById('calendarView').style.display !== 'none') { renderCalendar(); }
            alertPlayed = false;
            showNotification(`সময় ${offset > 0 ? '+' : ''}${offset} মিনিট অ্যাডজাস্ট করা হয়েছে`);
        });
        
        // ==================== কাউন্টডাউন ====================
        function playAlarm() {
            const audio = document.getElementById('alarm-sound');
            if (audio) {
                audio.play().catch(e => console.log('অডিও প্লে করতে সমস্যা:', e));
            }
            
            // Browser notification
            if (notificationPermission) {
                new Notification('রমজান ক্যালেন্ডার', {
                    body: `${document.getElementById('event-name').textContent} এর সময় হয়েছে!`,
                    icon: 'icons/icon-192x192.png'
                });
            }
            
            showNotification(`${document.getElementById('event-name').textContent} এর সময় হয়েছে!`, 'success');
        }
        
        function updateTimerUI(diff) {
            if (diff < 0) return;
            
            let hours = Math.floor(diff / 3600000);
            let mins = Math.floor((diff % 3600000) / 60000);
            let secs = Math.floor((diff % 60000) / 1000);
            
            document.getElementById('timer').innerHTML = 
                `<span>${hours.toString().padStart(2,'0')}</span>:<span>${mins.toString().padStart(2,'0')}</span>:<span>${secs.toString().padStart(2,'0')}</span>`;
            
            // Check for reminder
            const reminderMillis = reminderTime * 60 * 1000;
            if (diff <= reminderMillis && diff > (reminderMillis - 1000) && !alertPlayed) {
                if ((reminderType === 'both' || 
                     (reminderType === 'iftar' && currentEvent === 'iftar') ||
                     (reminderType === 'sehri' && currentEvent === 'sehri'))) {
                    playAlarm();
                    alertPlayed = true;
                }
            }
        }
        
        function startCountdown() {
            setInterval(() => {
                const now = new Date();
                const todayStr = now.toISOString().split('T')[0];
                const todayData = ramadanData.find(d => d.date === todayStr);
                
                if (!todayData) {
                    document.getElementById('timer').innerHTML = 'রমজান শেষ';
                    return;
                }
                
                const [iftarHour, iftarMin] = adjustTime(todayData.iftar, offset).split(':').map(Number);
                
                const tomorrow = new Date(now);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const tomorrowStr = tomorrow.toISOString().split('T')[0];
                const tomorrowData = ramadanData.find(d => d.date === tomorrowStr);
                
                let iftarTime = new Date(now);
                iftarTime.setHours(iftarHour, iftarMin, 0);
                
                let iftarDiff = iftarTime - now;
                
                if (iftarDiff > 0) {
                    document.getElementById('event-name').innerHTML = '<i class="fas fa-sunset"></i> পরবর্তী ইফতার';
                    if (currentEvent !== 'iftar') {
                        currentEvent = 'iftar';
                        alertPlayed = false;
                    }
                    updateTimerUI(iftarDiff);
                } else if (tomorrowData) {
                    const [sehriHour, sehriMin] = adjustTime(tomorrowData.sehri, offset).split(':').map(Number);
                    let sehriTime = new Date(tomorrow);
                    sehriTime.setHours(sehriHour, sehriMin, 0);
                    
                    let sehriDiff = sehriTime - now;
                    
                    document.getElementById('event-name').innerHTML = '<i class="fas fa-moon"></i> পরবর্তী সেহরি';
                    if (currentEvent !== 'sehri') {
                        currentEvent = 'sehri';
                        alertPlayed = false;
                    }
                    updateTimerUI(sehriDiff);
                }
            }, 1000);
        }
        
        // ==================== জিওলোকেশন ====================
        function detectLocation() {
            if (!navigator.geolocation) return;
            
            // District database: [name, minLat, maxLat, minLng, maxLng, offset, selectValue]
            const districts = [
                // ঢাকা বিভাগ
                ['ঢাকা',          23.60, 24.10, 90.20, 90.70,  0,  'ঢাকা|0'],
                ['গাজীপুর',       23.90, 24.30, 90.20, 90.70,  0,  'গাজীপুর|0'],
                ['নারায়ণগঞ্জ',    23.55, 23.75, 90.45, 90.70, -1,  'নারায়ণগঞ্জ|-1'],
                ['মানিকগঞ্জ',     23.70, 24.10, 89.85, 90.30,  1,  'মানিকগঞ্জ|1'],
                ['মুন্সীগঞ্জ',    23.40, 23.65, 90.40, 90.65,  0,  'মুন্সীগঞ্জ|0'],
                ['নরসিংদী',       23.80, 24.20, 90.60, 91.00, -1,  'নরসিংদী|-1'],
                ['টাঙ্গাইল',      24.00, 24.70, 89.80, 90.30,  2,  'টাঙ্গাইল|2'],
                ['কিশোরগঞ্জ',     24.10, 24.70, 90.70, 91.20, -2,  'কিশোরগঞ্জ|-2'],
                ['ফরিদপুর',       23.30, 23.70, 89.60, 90.10,  3,  'ফরিদপুর|3'],
                ['মাদারীপুর',     23.00, 23.45, 90.00, 90.40,  2,  'মাদারীপুর|2'],
                ['রাজবাড়ী',      23.60, 23.95, 89.50, 89.90,  4,  'রাজবাড়ী|4'],
                ['গোপালগঞ্জ',     22.90, 23.35, 89.80, 90.20,  2,  'গোপালগঞ্জ|2'],
                ['শরীয়তপুর',     23.15, 23.55, 90.30, 90.70,  1,  'শরীয়তপুর|1'],
                // চট্টগ্রাম বিভাগ
                ['চট্টগ্রাম',     21.90, 22.60, 91.60, 92.10, -5,  'চট্টগ্রাম|-5'],
                ['কুমিল্লা',      23.20, 23.75, 90.90, 91.35, -3,  'কুমিল্লা|-3'],
                ['ফেনী',          22.85, 23.20, 91.25, 91.65, -4,  'ফেনী|-4'],
                ['ব্রাহ্মণবাড়িয়া', 23.70, 24.30, 91.00, 91.50, -2, 'ব্রাহ্মণবাড়িয়া|-2'],
                ['রাঙামাটি',      22.30, 23.40, 91.80, 92.60, -6,  'রাঙামাটি|-6'],
                ['নোয়াখালী',     22.50, 23.10, 90.90, 91.50, -4,  'নোয়াখালী|-4'],
                ['চাঁদপুর',       23.05, 23.55, 90.55, 91.00, -3,  'চাঁদপুর|-3'],
                ['কক্সবাজার',     21.20, 22.10, 91.80, 92.40, -7,  'কক্সবাজার|-7'],
                ['বান্দরবান',     21.30, 22.50, 92.00, 92.80, -8,  'বান্দরবান|-8'],
                ['খাগড়াছড়ি',    22.50, 23.40, 91.70, 92.30, -6,  'খাগড়াছড়ি|-6'],
                ['লক্ষ্মীপুর',   22.80, 23.20, 90.75, 91.15, -3,  'লক্ষ্মীপুর|-3'],
                // সিলেট বিভাগ
                ['সিলেট',         24.60, 25.30, 91.60, 92.30, -6,  'সিলেট|-6'],
                ['হবিগঞ্জ',       24.00, 24.55, 91.20, 91.90, -4,  'হবিগঞ্জ|-4'],
                ['সুনামগঞ্জ',     24.70, 25.30, 90.90, 91.70, -5,  'সুনামগঞ্জ|-5'],
                ['মৌলভীবাজার',    24.20, 24.65, 91.60, 92.20, -5,  'মৌলভীবাজার|-5'],
                // রাজশাহী বিভাগ
                ['রাজশাহী',       24.20, 24.60, 88.40, 88.90,  7,  'রাজশাহী|7'],
                ['চাঁপাইনবাবগঞ্জ', 24.55, 24.90, 88.00, 88.60, 9, 'চাঁপাইনবাবগঞ্জ|9'],
                ['নাটোর',         24.30, 24.75, 88.80, 89.40,  7,  'নাটোর|7'],
                ['নওগাঁ',         24.60, 25.10, 88.50, 89.20,  8,  'নওগাঁ|8'],
                ['বগুড়া',         24.70, 25.20, 89.20, 89.90,  6,  'বগুড়া|6'],
                ['জয়পুরহাট',     24.90, 25.30, 88.90, 89.40,  7,  'জয়পুরহাট|7'],
                ['পাবনা',         23.90, 24.40, 89.10, 89.80,  4,  'পাবনা|4'],
                ['সিরাজগঞ্জ',     24.10, 24.70, 89.50, 90.00,  1,  'সিরাজগঞ্জ|1'],
                // খুলনা বিভাগ
                ['খুলনা',         22.60, 23.10, 89.35, 89.80,  3,  'খুলনা|3'],
                ['বাগেরহাট',      22.30, 22.80, 89.60, 90.10,  4,  'বাগেরহাট|4'],
                ['সাতক্ষীরা',     21.90, 22.70, 88.80, 89.40,  5,  'সাতক্ষীরা|5'],
                ['যশোর',          23.00, 23.45, 88.90, 89.50,  2,  'যশোর|2'],
                ['নড়াইল',         23.00, 23.40, 89.40, 89.80,  3,  'নড়াইল|3'],
                ['মাগুরা',        23.30, 23.65, 89.50, 89.90,  2,  'মাগুরা|2'],
                ['মেহেরপুর',      23.60, 23.90, 88.50, 88.90,  5,  'মেহেরপুর|5'],
                ['চুয়াডাঙ্গা',   23.50, 23.95, 88.70, 89.10,  4,  'চুয়াডাঙ্গা|4'],
                ['ঝিনাইদহ',       23.30, 23.80, 88.90, 89.40,  2,  'ঝিনাইদহ|2'],
                ['কুষ্টিয়া',     23.70, 24.10, 88.90, 89.40,  3,  'কুষ্টিয়া|3'],
                // রংপুর বিভাগ
                ['রংপুর',         25.50, 25.90, 89.10, 89.60,  4,  'রংপুর|4'],
                ['দিনাজপুর',      25.40, 25.90, 88.50, 89.10,  5,  'দিনাজপুর|5'],
                ['ঠাকুরগাঁও',     26.00, 26.40, 88.30, 88.80,  6,  'ঠাকুরগাঁও|6'],
                ['পঞ্চগড়',       26.20, 26.70, 88.40, 88.90,  7,  'পঞ্চগড়|7'],
                ['গাইবান্ধা',     25.20, 25.70, 89.40, 89.90,  3,  'গাইবান্ধা|3'],
                ['কুড়িগ্রাম',    25.60, 26.10, 89.50, 90.00,  3,  'কুড়িগ্রাম|3'],
                ['নীলফামারী',     25.80, 26.25, 88.80, 89.30,  5,  'নীলফামারী|5'],
                ['লালমনিরহাট',    25.80, 26.30, 89.30, 89.80,  3,  'লালমনিরহাট|3'],
                // বরিশাল বিভাগ
                ['বরিশাল',        22.50, 22.90, 90.20, 90.60,  1,  'বরিশাল|1'],
                ['পটুয়াখালী',    21.90, 22.55, 90.10, 90.70,  0,  'পটুয়াখালী|0'],
                ['ভোলা',          21.90, 22.70, 90.60, 91.10,  2,  'ভোলা|2'],
                ['পিরোজপুর',      22.30, 22.75, 89.90, 90.30,  2,  'পিরোজপুর|2'],
                ['ঝালকাঠি',       22.45, 22.80, 90.05, 90.40,  1,  'ঝালকাঠি|1'],
                ['বরগুনা',        21.80, 22.40, 90.00, 90.60, -1,  'বরগুনা|-1'],
                // ময়মনসিংহ বিভাগ
                ['ময়মনসিংহ',     24.30, 24.90, 90.20, 90.80, -1,  'ময়মনসিংহ|-1'],
                ['নেত্রকোণা',     24.70, 25.20, 90.60, 91.30, -2,  'নেত্রকোণা|-2'],
                ['জামালপুর',      24.70, 25.20, 89.70, 90.30,  0,  'জামালপুর|0'],
                ['শেরপুর',        25.00, 25.40, 90.00, 90.50, -1,  'শেরপুর|-1'],
            ];
            
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    
                    // Find matching district by bounding box
                    let matched = null;
                    for (const d of districts) {
                        if (lat >= d[1] && lat <= d[2] && lng >= d[3] && lng <= d[4]) {
                            matched = d;
                            break;
                        }
                    }
                    
                    // If no exact match, find nearest district center
                    if (!matched) {
                        const centers = {
                            'ঢাকা|0': [23.81, 90.41],
                            'রাজশাহী|7': [24.37, 88.60],
                            'চট্টগ্রাম|-5': [22.33, 91.84],
                            'সিলেট|-6': [24.90, 91.87],
                            'খুলনা|3': [22.84, 89.54],
                            'রংপুর|4': [25.75, 89.27],
                            'বরিশাল|1': [22.70, 90.37],
                            'ময়মনসিংহ|-1': [24.75, 90.41]
                        };
                        let minDist = Infinity;
                        for (const [val, [clat, clng]] of Object.entries(centers)) {
                            const d = Math.sqrt(Math.pow(lat - clat, 2) + Math.pow(lng - clng, 2));
                            if (d < minDist) {
                                minDist = d;
                                const parts = val.split('|');
                                matched = [parts[0], 0,0,0,0, parseInt(parts[1]), val];
                            }
                        }
                    }
                    
                    if (matched) {
                        const districtName = matched[0];
                        const detectedOffset = matched[5];
                        const selectVal = matched[6];
                        
                        const select = document.getElementById('district-select');
                        // Try to find option with matching value
                        let found = false;
                        for (let i = 0; i < select.options.length; i++) {
                            if (select.options[i].value === selectVal) {
                                select.selectedIndex = i;
                                found = true;
                                break;
                            }
                        }
                        
                        offset = detectedOffset;
                        renderTable();
                        if (document.getElementById('calendarView').style.display !== 'none') renderCalendar();
                        showNotification('📍 ' + districtName + ' — সময় সমন্বয় হয়েছে');
                    }
                },
                (error) => {
                    console.log('লোকেশন ডিটেক্ট করা যায়নি:', error.message);
                },
                { enableHighAccuracy: true, timeout: 10000 }
            );
        }
        
        // ==================== পিডিএফ ডাউনলোড ====================
        function downloadPDF() {
            showNotification('পিডিএফ ডাউনলোড শুরু হচ্ছে...');
            
            // Create printable content
            let content = `
                <html>
                <head><title>রমজান ক্যালেন্ডার ২০২৬</title></head>
                <body style="font-family: 'Hind Siliguri', sans-serif;">
                <h1 style="text-align: center;">মাহে রমজান ২০২৬</h1>
                <h3 style="text-align: center;">ইফতার ও সেহরির সময়সূচি</h3>
                <table border="1" style="width: 100%; border-collapse: collapse;">
                    <tr>
                        <th>রমজান</th>
                        <th>তারিখ</th>
                        <th>সেহরি</th>
                        <th>ইফতার</th>
                    </tr>
            `;
            
            ramadanData.forEach(day => {
                content += `
                    <tr>
                        <td>${day.no}</td>
                        <td>${new Date(day.date + 'T00:00:00').toLocaleDateString('bn-BD')}</td>
                        <td>${adjustTime(day.sehri, offset)}</td>
                        <td>${adjustTime(day.iftar, offset)}</td>
                    </tr>
                `;
            });
            
            content += '</table></body></html>';
            
            // Create download link
            const blob = new Blob([content], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ramadan_calendar_2026.html';
            a.click();
            
            showNotification('ডাউনলোড সম্পন্ন হয়েছে');
        }
        
        // ==================== শেয়ার ফাংশন ====================
        function shareApp() {
            if (navigator.share) {
                navigator.share({
                    title: 'রমজান ক্যালেন্ডার ২০২৬',
                    text: 'ইফতার ও সেহরির সঠিক সময়সূচি, দোয়া ও তসবিহ',
                    url: window.location.href
                }).catch(console.error);
            } else {
                navigator.clipboard.writeText(window.location.href);
                showNotification('লিংক কপি করা হয়েছে');
            }
        }
        
        // ==================== মডাল ফাংশন ====================
        function openFeedbackModal() {
            document.getElementById('feedbackModal').classList.add('active');
        }
        
        function openAboutModal() {
            document.getElementById('aboutModal').classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        function submitFeedback() {
            const name = document.getElementById('feedbackName').value;
            const text = document.getElementById('feedbackText').value;
            
            if (text.trim()) {
                showNotification('আপনার মতামতের জন্য ধন্যবাদ!');
                closeModal('feedbackModal');
                document.getElementById('feedbackName').value = '';
                document.getElementById('feedbackText').value = '';
                
                // এখানে ফিডব্যাক সার্ভারে পাঠানো যেতে পারে
                console.log('Feedback:', { name, text });
            }
        }
        
        // ==================== রিমাইন্ডার ====================
        function openReminderModal() {
            requestNotificationPermission();
            // Restore saved settings into dropdowns
            document.getElementById('reminderType').value = reminderType;
            document.getElementById('reminderTime').value = reminderTime;
            document.getElementById('reminderModal').classList.add('active');
        }
        
        function setReminder() {
            reminderType = document.getElementById('reminderType').value;
            reminderTime = parseInt(document.getElementById('reminderTime').value);
            
            closeModal('reminderModal');
            showNotification(`রিমাইন্ডার সেট করা হয়েছে: ${reminderTime} মিনিট আগে`);
            
            localStorage.setItem('reminderType', reminderType);
            localStorage.setItem('reminderTime', reminderTime);
        }
        
        // Load saved reminder settings
        const savedReminderType = localStorage.getItem('reminderType');
        const savedReminderTime = localStorage.getItem('reminderTime');
        if (savedReminderType) reminderType = savedReminderType;
        if (savedReminderTime) reminderTime = parseInt(savedReminderTime);
        
        // ==================== ইভেন্ট লিসেনার ====================
        document.getElementById('notifyBtn').addEventListener('click', openReminderModal);
        document.getElementById('calendarViewBtn').addEventListener('click', () => {
            const calBtn = document.querySelector('[data-view="calendar"]');
            switchView('calendar', calBtn);
        });
        document.getElementById('downloadPdfBtn').addEventListener('click', downloadPDF);
        document.getElementById('shareBtn').addEventListener('click', shareApp);
        
        // Close modals when clicking outside
        window.onclick = (event) => {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        };
        
        // ==================== ইনিশিয়ালাইজেশন ====================
        renderTable();
        startCountdown();
        detectLocation();
        
        // Check for notification permission
        if ('Notification' in window && Notification.permission === 'default') {
            // Don't request automatically, wait for user action
        }
        
        // Service Worker for PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register(
                '/ramadan-calendar-2026/sw.js',
                { scope: '/ramadan-calendar-2026/' }
            ).then(reg => {
                console.log('SW registered:', reg.scope);
            }).catch(err => {
                // Fallback: relative path চেষ্টা করো
                navigator.serviceWorker.register('sw.js').catch(console.error);
            });
        }
    </script>
</body>
</html>
